{"version":3,"sources":["webpack:///./src/components/pages/Account.vue?306a","webpack:///./src/components/pages/Account.vue","webpack:///./src/components/pages/Account.vue?509e","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["id","data-test","class","user","name","email","logout","registration","userfields","loginselect","type","data","validate","errors","password","register","login","components","ServerErrors","computed","this","$store","state","methods","validator","registerStatus","document","getElementById","style","display","fails","all","passes","post","then","response","authenticated","commit","success","render","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"uIAAA,W,sECCKA,GAAG,gB,aAEIC,YAAU,gBAAgBC,MAAM,gB,GACjCD,YAAU,kB,SAMLD,GAAG,a,EACX,eAA+C,MAA3CE,MAAM,gBAAe,qBAAiB,G,iBAIjC,e,GAOmBF,GAAG,kB,EAC3B,eAAmD,MAA/CE,MAAM,gBAAe,yBAAqB,G,EAC9C,eAAuH,SAApH,oHAAgH,G,iBAGxG,gB,EAGC,eAAM,mB,EAOlB,eAAmC,MAA/BA,MAAM,gBAAe,SAAK,G,EAC9B,eAAuI,SAApI,oIAAgI,G,iBAMxH,Y,EAGC,eAAM,mB,iBAIP,e,EAGC,eAAM,mB,EAKiF,eAAM,mB,SAC7FA,MAAM,S,EAKuE,eAAM,mB,SAC/FA,MAAM,S,sFAjElB,eAuEM,MAvEN,EAuEM,CAtES,EAAAC,M,iBAAX,eAMM,SALF,eAA4E,KAA5E,EAAmD,OAAI,eAAG,EAAAA,KAAKC,MAAO,IAAC,GACvE,eAAuD,IAAvD,EAA8B,UAAO,eAAE,EAAAD,KAAKE,OAAK,GACjD,eAES,UAFI,QAAK,8BAAE,EAAAC,QAAA,EAAAA,OAAA,qBAAQL,YAAU,iBAAgB,gB,iBAK1D,eA6DM,MA7DN,EA6DM,CA5DF,EAEA,eAES,UAFI,QAAK,wBAAE,EAAAM,cAAY,EAAS,EAAAC,YAAU,EAAS,EAAAC,aAAW,IAAUR,YAAU,yBAAwB,c,EAInH,eAES,UAFI,QAAK,wBAAE,EAAAQ,aAAW,EAAS,EAAAD,YAAU,EAAS,EAAAD,cAAY,IAAUN,YAAU,sBAAqB,W,eAKhH,eAWO,OAXP,EAWO,CAVH,EACA,EAEA,eAMM,YALF,eAGQ,c,iBADJ,eAAmG,SAA5FS,KAAK,O,qDAAgB,EAAAC,KAAKP,KAAI,IAAEH,YAAU,aAAaD,GAAG,WAAgB,OAAI,8BAAE,EAAAY,UAAA,EAAAA,SAAA,sB,mBAA3D,EAAAD,KAAKP,UAC7B,EACa,EAAAS,QAAM,SAAc,EAAAA,Q,iBAAzC,eAA2G,G,MAAnDA,OAAQ,EAAAA,OAAOT,KAAMF,MAAM,S,2DAT7E,EAAAK,gB,eAcd,eAGO,aAFH,EACA,G,cAFU,EAAAE,e,eAMd,eAeO,aAdH,eAMM,YALF,eAGQ,c,iBADJ,eAAsG,SAA/FC,KAAK,O,qDAAgB,EAAAC,KAAKN,MAAK,IAAEJ,YAAU,cAAcD,GAAG,YAAiB,OAAI,8BAAE,EAAAY,UAAA,EAAAA,SAAA,sB,mBAA9D,EAAAD,KAAKN,WAC7B,EACa,EAAAQ,QAAM,UAAe,EAAAA,Q,iBAA1C,eAA6G,G,MAApDA,OAAQ,EAAAA,OAAOR,MAAOH,MAAM,S,4CAEzF,eAMM,YALF,eAGQ,c,iBADJ,eAAmH,SAA5GQ,KAAK,W,qDAAoB,EAAAC,KAAKG,SAAQ,IAAEb,YAAU,iBAAiBD,GAAG,eAAoB,OAAI,8BAAE,EAAAY,UAAA,EAAAA,SAAA,sB,mBAAvE,EAAAD,KAAKG,cACjC,EACa,EAAAD,QAAM,aAAkB,EAAAA,Q,iBAA7C,eAAmH,G,MAAvDA,OAAQ,EAAAA,OAAOC,SAAUZ,MAAM,S,2DAbrF,EAAAM,c,eAiBd,eAIO,aAJqB,eAA2E,UAA9D,QAAK,gCAAE,EAAAO,UAAA,EAAAA,SAAA,qBAAUd,YAAU,mBAAkB,YAAiB,EACnE,EAAAY,Q,iBAAvB,eAEL,IAFK,EAA+B,uC,qCAD9B,EAAAN,gB,eAMd,eAIO,aAJoB,eAAkE,UAArD,QAAK,gCAAE,EAAAS,OAAA,EAAAA,MAAA,qBAAOf,YAAU,gBAAe,SAAc,EACrE,EAAAY,Q,iBAAvB,eAEO,IAFP,EAA+B,kD,qCADlB,EAAAJ,oB,iDAiBP,GACXQ,WAAY,CACR,gBAAiBC,EAAA,MAErBP,KAJW,WAKP,MAAO,CACHA,KAAM,GACNE,OAAQ,KACRN,cAAc,EACdE,aAAa,EACbD,YAAY,IAGpBW,SAAU,CACNhB,KADM,WAEF,OAAOiB,KAAKC,OAAOC,MAAMnB,OAGjCoB,QAAS,CACLX,SADK,WAED,IAAIY,EACAC,EAAiBC,SAASC,eAAe,kBAoB7C,OAlBIH,EADgC,QAAhCC,EAAeG,MAAMC,QACT,IAAI,IAAUT,KAAKT,KAAM,CACjCN,MAAO,iBACPS,SAAU,iCAGF,IAAI,IAAUM,KAAKT,KAAM,CACjCP,KAAM,gCACNC,MAAO,iBACPS,SAAU,iCAIdU,EAAUM,QACVV,KAAKP,OAASW,EAAUX,OAAOkB,MAE/BX,KAAKP,OAAS,KAGXW,EAAUQ,UAErBjB,SAzBK,WAyBM,WACHK,KAAKR,YACL,OAAMqB,KAAK,YAAab,KAAKT,MAAMuB,MAAK,SAACC,GACjCA,EAASxB,KAAKE,OACd,EAAKA,OAASsB,EAASxB,KAAKE,OAE5B,OAAMoB,KAAK,QAAS,EAAKtB,MAAMuB,MAAK,SAACC,GAC7BA,EAASxB,KAAKyB,eACd,EAAKf,OAAOgB,OAAO,UAAWF,EAASxB,KAAKR,aAOpEa,MAxCK,WAwCG,WACAI,KAAKR,YACL,OAAMqB,KAAK,QAASb,KAAKT,MAAMuB,MAAK,SAACC,GAC7BA,EAASxB,KAAKyB,cACd,EAAKf,OAAOgB,OAAO,UAAWF,EAASxB,KAAKR,MAE5C,EAAKU,OAASsB,EAASxB,KAAKE,WAK5CP,OAnDK,WAmDI,WACL,OAAM2B,KAAK,UAAUC,MAAK,SAACC,GACnBA,EAASxB,KAAK2B,SACd,EAAKjB,OAAOgB,OAAO,WAAW,S,UCrJlD,EAAOE,OAASA,EAED,gB,qBCPf,IAAIC,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkBI,SAC9CC,EAAS,wBACTC,EAAO,OAIPT,KAAiBS,KAAQN,IAC3BF,EAAeE,EAAmBM,EAAM,CACtCC,cAAc,EACdC,IAAK,WACH,IACE,OAAOL,EAA0BM,KAAKhC,MAAMiC,MAAML,GAAQ,GAC1D,MAAOM,GACP,MAAO","file":"js/chunk-7e9512ca.11918428.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Account.vue?vue&type=style&index=0&id=42d874f4&lang=css\"","<template>\r\n<div id=\"account-page\">\r\n    <div v-if=\"user\">\r\n        <h2 data-test=\"loggedin-name\" class=\"extraspacing\">Hi, {{ user.name }}!</h2>\r\n        <p data-test=\"loggedin-email\">Email: {{user.email}}</p>\r\n        <button v-on:click=\"logout\" data-test=\"logout-button\">\r\n            Logout\r\n        </button>\r\n    </div>\r\n\r\n    <div v-else id=\"loginForm\">\r\n        <h2 class=\"extraspacing\">Register or Login</h2>\r\n\r\n        <button v-on:click=\"registration = true; userfields = true; loginselect = false\" data-test=\"registerselect-button\">\r\n            Register\r\n        </button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n        <button v-on:click=\"loginselect = true; userfields = true; registration = false\" data-test=\"loginselect-button\">\r\n            Login\r\n        </button>\r\n\r\n        <!-- Start registration form -->\r\n        <span v-show=\"registration\" id=\"showregisterit\">\r\n            <h1 class=\"extraspacing\">Register Your Account</h1>\r\n            <p>To be able to contribute to the blog, register for an account, which will give you access to create new entries.</p>\r\n\r\n            <div>\r\n                <label>\r\n                    Full Name:\r\n                    <input type=\"text\" v-model=\"data.name\" data-test=\"name-input\" id=\"username\" v-on:blur=\"validate\" />\r\n                </label><br />\r\n                <server-errors v-if=\"errors && 'name' in errors\" v-bind:errors=\"errors.name\" class=\"error\"></server-errors>\r\n            </div>\r\n        </span>\r\n\r\n        <!-- Start login form -->\r\n        <span v-show=\"loginselect\">\r\n            <h1 class=\"extraspacing\">Login</h1>\r\n            <p>Using the email address and password you entered during registration, log in to your account, and you can then add blog entries.</p>\r\n        </span>\r\n\r\n        <!-- Start standard user fields form -->\r\n        <span v-show=\"userfields\">\r\n            <div>\r\n                <label>\r\n                    Email:\r\n                    <input type=\"text\" v-model=\"data.email\" data-test=\"email-input\" id=\"useremail\" v-on:blur=\"validate\" />\r\n                </label><br />\r\n                <server-errors v-if=\"errors && 'email' in errors\" v-bind:errors=\"errors.email\" class=\"error\"></server-errors>\r\n            </div>\r\n            <div>\r\n                <label>\r\n                    Password:\r\n                    <input type=\"password\" v-model=\"data.password\" data-test=\"password-input\" id=\"userpassword\" v-on:blur=\"validate\" />\r\n                </label><br />\r\n                <server-errors v-if=\"errors && 'password' in errors\" v-bind:errors=\"errors.password\" class=\"error\"></server-errors>\r\n            </div>\r\n        </span>\r\n\r\n        <span v-show=\"registration\"><button v-on:click=\"register\" data-test=\"register-button\">Register</button><br />\r\n                     <p class=\"error\" v-if=\"errors\">\r\n                Please correct the above errors.\r\n            </p>\r\n        </span>\r\n\r\n        <span v-show=\"loginselect\"><button v-on:click=\"login\" data-test=\"login-button\">Login</button><br />\r\n         <p class=\"error\" v-if=\"errors\">\r\n               These credentials do not match our records.\r\n            </p>\r\n        </span>\r\n\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    axios\r\n} from '@/common/app.js';\r\nimport ServerErrors from '@/components/ServerErrors.vue';\r\nimport Validator from 'validatorjs';\r\n\r\nexport default {\r\n    components: {\r\n        \"server-errors\": ServerErrors,\r\n    },\r\n    data() {\r\n        return {\r\n            data: {},\r\n            errors: null,\r\n            registration: false,\r\n            loginselect: false,\r\n            userfields: false,\r\n        };\r\n    },\r\n    computed: {\r\n        user() {\r\n            return this.$store.state.user;\r\n        },\r\n    },\r\n    methods: {\r\n        validate() {\r\n            let validator;\r\n            let registerStatus = document.getElementById(\"showregisterit\");\r\n            if (registerStatus.style.display == \"none\") {\r\n                validator = new Validator(this.data, {\r\n                    email: \"required|email\",\r\n                    password: \"required|string|between:8,16\",\r\n                });\r\n            } else {\r\n                validator = new Validator(this.data, {\r\n                    name: \"required|between:2,250|string\",\r\n                    email: \"required|email\",\r\n                    password: \"required|string|between:8,16\",\r\n                });\r\n            }\r\n\r\n            if (validator.fails()) {\r\n                this.errors = validator.errors.all();\r\n            } else {\r\n                this.errors = null;\r\n            }\r\n\r\n            return validator.passes();\r\n        },\r\n        register() {\r\n            if (this.validate()) {\r\n                axios.post(\"/register\", this.data).then((response) => {\r\n                    if (response.data.errors) {\r\n                        this.errors = response.data.errors;\r\n                    } else {\r\n                        axios.post(\"login\", this.data).then((response) => {\r\n                            if (response.data.authenticated) {\r\n                                this.$store.commit(\"setUser\", response.data.user);\r\n                            }\r\n                        })\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        login() {\r\n            if (this.validate()) {\r\n                axios.post(\"login\", this.data).then((response) => {\r\n                    if (response.data.authenticated) {\r\n                        this.$store.commit(\"setUser\", response.data.user);\r\n                    } else {\r\n                        this.errors = response.data.errors;\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        logout() {\r\n            axios.post(\"logout\").then((response) => {\r\n                if (response.data.success) {\r\n                    this.$store.commit(\"setUser\", false);\r\n                }\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style>\r\n#account-page {\r\n    padding: 5px 20px 30px 20px;\r\n}\r\n\r\na.button {\r\n    background-color: #1e7889;\r\n    padding: 5px 20px;\r\n    margin: -20px auto 20px auto;\r\n    display: inline-block;\r\n    border: 0.16em solid rgba(255, 255, 255, 0);\r\n    border-radius: 2em;\r\n    box-sizing: border-box;\r\n    text-decoration: none;\r\n    text-shadow: 0 0.04em 0.04em rgba(0, 0, 0, 0.35);\r\n    text-align: center;\r\n    transition: all 0.2s;\r\n    font-weight: bold;\r\n}\r\n</style>\r\n","import { render } from \"./Account.vue?vue&type=template&id=42d874f4\"\nimport script from \"./Account.vue?vue&type=script&lang=js\"\nexport * from \"./Account.vue?vue&type=script&lang=js\"\n\nimport \"./Account.vue?vue&type=style&index=0&id=42d874f4&lang=css\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}